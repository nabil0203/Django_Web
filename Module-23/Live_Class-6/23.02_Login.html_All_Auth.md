# Login.html

### üõ†Ô∏è Error in `Django All Auth`
```
Error during template rendering


In template
C:\ShopNest\ShopNest\templates\shop\login.html, error at line 35
```


```html
Line-35

<a href="{% provider_login_url 'google' next=request.GET.next %}" class="btn btn-outline-danger"
```




## Issue:
- The error occurs because the Google Social Application is not configured in Django Admin
- Without this, `{% provider_login_url 'google' %}` cannot generate the login URL

--------

- So, In the django admin panel we have **Social Accounts** (3 Things)
    - Social accounts	
    - Social application tokens
    - Social applications
- We have not set any of these
- To Solve this we need to use Google Console


------


### üî® How to Fix:
### Configure Google Login for Django Allauth


-----------------------------------------------

### 1Ô∏è‚É£ Go to > [Cloud Console](https://console.cloud.google.com/)
- This will require to select a gmail

### 2Ô∏è‚É£ Create a project
- Click on
    - Select a project ‚Üí New Project ‚Üí Name it ‚Üí Create
- After creating, select the project


### 3Ô∏è‚É£ Enable Google Identity Services API
- Go to Left menu
- Click ***APIs & Services***
- Select Library 
- Search "Google Identity Services" 
- Click Enable.

### 4Ô∏è‚É£ Set up OAuth consent screen

- Left menu 
- APIs & Services ‚Üí OAuth consent screen
- Click Get Started
- Fill in
    - App name
    - User support email
    - Audience ‚Üí External
- Click Save and Continue until done.


### 5Ô∏è‚É£ Create OAuth credentials
- Go to APIs & Services ‚Üí Credentials ‚Üí Create Credentials ‚Üí OAuth Client ID
- Select Application Type ‚Üí Web Application
- Configure URLs
    - Authorized JavaScript origins:
        - http://127.0.0.1:8000
    - Authorized redirect URLs:
        - http://127.0.0.1:8000/accounts/google/login/callback/
- Click Create
- A Popup will come
- Copy your 
    - Client ID
    - Client Secret.


### 6Ô∏è‚É£ Configure Django Admin panel
- Go to Django Admin panel
- Under the Social Accounts ‚Üí select Social applications
- Provider: Google
- Name: Any descriptive name
- Paste
    - Client Id
    - Secret Key
- Save

----------------


## ‚úÖ Result
### The Google login button will now work.
- `{% provider_login_url 'google' next=request.GET.next %}` will redirect the user to the intended page after login.
- Note: The next parameter ensures that after logging in, the user is redirected to the page they originally requested.